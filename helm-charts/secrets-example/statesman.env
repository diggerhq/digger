# Taco Statesman Environment Variables
# Copy this file to ../.secrets/statesman.env and fill in your actual values

# S3/Object Storage Configuration
OPENTACO_S3_BUCKET=your-bucket-name
OPENTACO_S3_REGION=us-east-2
OPENTACO_S3_PREFIX=your-prefix

# Auth0 Configuration (for authentication)
# Get these from https://manage.auth0.com/
OPENTACO_AUTH_ISSUER=https://your-tenant.us.auth0.com/
OPENTACO_AUTH_CLIENT_ID=YOUR_AUTH0_CLIENT_ID
OPENTACO_AUTH_CLIENT_SECRET=YOUR_AUTH0_CLIENT_SECRET
OPENTACO_AUTH_AUTH_URL=https://your-tenant.us.auth0.com/authorize
OPENTACO_AUTH_TOKEN_URL=https://your-tenant.us.auth0.com/oauth/token

# AWS/S3 Credentials (or compatible storage like Tigris)
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_ACCESS_KEY
AWS_REGION=auto
AWS_ENDPOINT=https://your-s3-endpoint.com

# Internal API Authentication
OPENTACO_ENABLE_INTERNAL_ENDPOINTS=YOUR_INTERNAL_SECRET_64_CHARS

# JWT Token Configuration (Optional - uses secure defaults if not set)
# Key ID for JWT signing
OPENTACO_TOKENS_KID=k1
# Token lifetimes
OPENTACO_TOKENS_ACCESS_TTL=1h
OPENTACO_TOKENS_REFRESH_TTL=720h
# Optional: Path to Ed25519 private key PEM file (generates ephemeral key if not set)
# OPENTACO_TOKENS_PRIVATE_KEY_PEM_PATH=/secrets/jwt-private-key.pem

# Public Base URL (used as JWT issuer and for OAuth redirects)
# IMPORTANT: Set to your actual public URL in production
OPENTACO_PUBLIC_BASE_URL=https://your-domain.com

# OAuth State Encryption Key
# CRITICAL: Set to a random 32+ character string in production!
# Used to encrypt OAuth state parameters during PKCE authentication flows
OPENTACO_OAUTH_STATE_KEY=CHANGE_THIS_TO_RANDOM_32_CHAR_STRING_IN_PRODUCTION

# Example CloudSQL + PostgreSQL Configuration
# Note: For Cloud SQL, use localhost:5432 (Cloud SQL proxy handles connection)
OPENTACO_POSTGRES_HOST=localhost
OPENTACO_POSTGRES_PORT=5432
OPENTACO_POSTGRES_USER=taco
OPENTACO_POSTGRES_PASSWORD=YOUR_DB_PASSWORD
OPENTACO_POSTGRES_DBNAME=taco
OPENTACO_POSTGRES_SSLMODE=disable
OPENTACO_QUERY_BACKEND=postgres

# Enable E2B sandbox provider
OPENTACO_SANDBOX_PROVIDER="e2b"

# Sidecar URL
OPENTACO_E2B_SIDECAR_URL="http://localhost:9100"