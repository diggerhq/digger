package notification

import (
	"github.com/stretchr/testify/assert"
	"strings"
	"testing"
)

func TestSlackSplitLargerMessage(t *testing.T) {
	parts := SplitCodeBlocks(":bangbang: drift detected\\n\\n ```\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\n\\n\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\nhere it is\\n\\n```")
	assert.Equal(t, 2, len(parts))
	assert.Equal(t, 2, strings.Count(parts[0], "```"))
	assert.Equal(t, 2, strings.Count(parts[1], "```"))
}
